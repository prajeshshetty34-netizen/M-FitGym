<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Plans - AI Gym</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
</head>
<body>
 <div id="header-placeholder"></div>


 <section class="workout-section">
  <div class="recommendation-form">
    <h2>üß† Get Your AI-Based Workout Plan</h2>
    <form id="aiWorkoutForm">
      <input type="text" id="name" placeholder="Your Name" required>
      <select id="gender" required>
        <option value="">Select Gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      <input type="number" id="age" placeholder="Age" required>
      <select id="goal" required>
        <option value="">Select Goal</option>
        <option value="weightloss">Weight Loss</option>
        <option value="muscle">Muscle Gain</option>
        <option value="fit">General Fitness</option>
      </select>
      <select id="level" required>
        <option value="">Experience Level</option>
        <option value="beginner">Beginner</option>
        <option value="intermediate">Intermediate</option>
        <option value="advanced">Advanced</option>
      </select>
      <button type="submit">Recommend Plan</button>
    </form>
  </div>
  <div id="recommendationResult" class="result recommendation-result-container"></div>
</section>

    
 


<script>
    const BACKEND_URL = "http://localhost:3000";
    const converter = new showdown.Converter();

    document.getElementById("aiWorkoutForm").addEventListener("submit", async function(e) {
        e.preventDefault();

        const gender = document.getElementById("gender").value;
        const age = document.getElementById("age").value;
        const goal = document.getElementById("goal").value;
        const level = document.getElementById("level").value;
        
        const recommendationResult = document.getElementById("recommendationResult");
        recommendationResult.innerHTML = "‚è≥ Generating your personalized workout plan...";

        try {
            const response = await fetch(`${BACKEND_URL}/workout`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ gender, age, goal, level })
            });

            const data = await response.json();
            const markdown = data.reply;
            const html = converter.makeHtml(markdown);

            recommendationResult.innerHTML = html;

        } catch (error) {
            console.error("Error:", error);
            recommendationResult.innerHTML = "‚ùå Error generating workout plan. Please check your console for details.";
        }
    });

</script>
<footer>
    <p>&copy; 2025 AI Gym. All rights reserved.</p>
  </footer>
  <script src="js/main.js"></script>
<script src="js/loadHeader.js"></script>

  
</body>
</html>
